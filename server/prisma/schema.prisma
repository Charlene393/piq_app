
generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model user{
  id String @id @default(auto())@map("_id")@db.ObjectId
  name String?
  phone_number String @unique
  email String @unique
  ratings Float @default(0)
  totalRides Float @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  rides rides[] @relation("userRides")

}
enum VehicleType {
  Car
  Motorcycle
}
model driver{
  id String @id @default(auto())@map("_id")@db.ObjectId
  name String
  country String 
  phone_number String @unique
  email String @unique
  vehicleType VehicleType
  registrationNumber String @unique
  registration_date DateTime
  driving_license Float
  vehicle_color String
  rate Float
  ratings Float @default(0)
  totalEarnings Float @default(0)
  totalRides Float @default(0)
  pendingRides Float @default(0)
  cancelledRides Float @default(0)
  status String @default("inactive")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  rides rides[] @relation("driverRides")

}
model rides{
  id String @id @default(auto())@map("_id")@db.ObjectId
  userId String @db.ObjectId
  driverId String @db.ObjectId
  charge Float
  user user @relation("userRides", fields: [userId], references: [id])
  driver driver @relation("driverRides", fields: [driverId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}